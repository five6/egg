{"version":3,"sources":["webpack:///./src/containers/album/AlbumsRoot.js","webpack:///./src/components/album/Album.js","webpack:///./src/components/album/Albums.js","webpack:///./src/constants/ActionTypes.album.js","webpack:///./src/constants/actionTypes.album.js","webpack:///./src/containers/album/Albums.js","webpack:///./src/entry/albums.js","webpack:///./src/reducers/album.js","webpack:///./src/actions/album.js"],"names":["AlbumsRoot","React","Component","render","Album","constructor","props","componentDidMount","photos","map","photo","src","Albums","showCreateAlbumModal","bind","onclickCreateAlbum","showUpdatePhotosModal","onclickUpdatePhotos","createDate","onClickAddPhoto","$","dropdown","checkbox","modal","trigger","element","alert","name","refs","preAlbumName","value","description","preAlbumDescription","topic","preAlbumTopic","find","val","authority","albumAuthority","album","createAlbum","form","fields","albumName","albumDescription","date","moment","format","albums","firstAlbum","e","_id","create_at","F_ALBUMS","R_ALBUMS","F_ALBUM","R_ALBUM","ADD_ALBUM","R_ADD_ALBUM","DEL_ALBUM","R_DEL_ALBUM","ADD_PHOTO","R_ADD_PHOTO","DEL_PHOTO","R_DEL_PHOTO","AlbumApp","deleteAlbum","updateAlbum","getAlbums","dispatch","fetch_ajax_get_albums","fetch_ajax_create_albums","propTypes","PropTypes","array","isRequired","mapStateToProps","state","connect","nodeDiv","document","getElementById","ReactDOM","initState","albumReducer","action","type","Object","assign","console","log","concat","middleware","process","env","NODE_ENV","push","createLogger","store","createStore","applyMiddleware","action_get_albums","action_received_albums","action_delete_album","albumId","action_received_delete_album","action_add_album","action_received_add_album","action_add_photo","action_received_add_photo","action_delete_photo","photoId","action_received_delete_photo","ajax_get_albums","ajax","url","method","success","result","error","err","status","ajax_create_albums","data","getState"],"mappings":"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","file":"albums.js","sourcesContent":["import React from 'react';\nimport {Provider} from 'react-redux';\nimport AlbumApp from './Albums';\nimport store from '../../reducers/album';\n\nexport default class AlbumsRoot extends React.Component{\n    render(){\n        return(\n            <Provider store={store} >\n                <AlbumApp />\n            </Provider>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/containers/album/AlbumsRoot.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid } from 'antd-mobile';\nexport default class Album extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\tcomponentDidMount() {\n\t\n\t}\n\trender(){\n\t\tconst {photos} = this.props;\n\t\treturn(\n            <div>\n                {\n                    photos.map(photo=> {\n\t\t\t\t\t\t<div className=\"album\">\n\t\t\t\t\t\t\t<div className=\"photo\">\n\t\t\t\t\t\t\t\t<img src={photo.src}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/album/Album.js","import React from 'react';\nimport {findAlbums} from  '../../actions/album';\nimport Album from './Album';\n\nexport default class Albums extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.showCreateAlbumModal = this.showCreateAlbumModal.bind(this);\n\t\tthis.onclickCreateAlbum = this.onclickCreateAlbum.bind(this);\n\t\tthis.showUpdatePhotosModal = this.showUpdatePhotosModal.bind(this);\n\t\tthis.onclickUpdatePhotos = this.onclickUpdatePhotos.bind(this);\n\t\tthis.createDate = this.createDate.bind(this);\n\t\tthis.onClickAddPhoto = this.onClickAddPhoto.bind(this);\n\t}\n\n    showCreateAlbumModal(){\n        $('.albumAuthority').dropdown();\n        $('.ui.radio.albumTopic').checkbox();\n        $('.createAlbumModal').modal('show');\n    }\n    showUpdatePhotosModal(){\n\n        $('.selectAlbum').dropdown();\n        $(\".updatePhotosModal\").modal('show');\n\n    }\n    onClickAddPhoto(){\n        $(\"#inputAddPhoto\").trigger(\"click\");\n    }\n    onclickUpdatePhotos(element){\n        alert(\"唉， 可惜，功能还没完成呢！\");\n    }\n    onclickCreateAlbum(element){\n        const name = this.refs.preAlbumName.value;\n        const description = this.refs.preAlbumDescription.value;\n        const topic = $(this.refs.preAlbumTopic).find(\"input[type='radio']:checked\").val();\n        const authority = this.refs.albumAuthority.value;\n        const album = {\n            name:name,\n            description:description,\n            authority:authority,\n            topic:topic\n        };\n        this.props.createAlbum(album);\n        $('.createAlbumModal').modal('hide');\n    }\n\tcomponentDidMount() {\n         $('#createAlbumform').form({\n          fields: {\n            albumName : 'empty',\n            albumDescription : 'empty',\n            topic : 'empty',\n            albumAuthority : 'empty'\n        }   \n     });\n    }\n    createDate(date){\n        return moment(date).format(\"YYYY年MM月DD日 HH:mm:ss\");\n    }\n\trender(){\n\t\tconst {albums} = this.props;\n\t\tconst firstAlbum = albums[0]||{};\n\t\treturn(\n\t\t\t<div className=\"ui\">\n                <div className=\"toolbar\">\n                    <div className=\"ui buttons\">\n                        <button onClick={(e)=> this.showUpdatePhotosModal(e)} className=\"ui red basic button\">上传照片</button>\n                        <button onClick={(e)=> this.showCreateAlbumModal(e)} className=\"ui green basic button\">创建相册</button>\n                    </div>\n                </div>\n                <div className=\"albums\" id=\"albums-albums\">\n                    <div className=\"ui cards\">\n                    {albums.map(album =>\n                        <div className=\"card\" key={album._id}>\n                            <div className=\"image\">\n                                <img src=\"http://www.semantic-ui.cn/images/wireframe/image.png\"/>\n                            </div>\n                            <div className=\"content\">\n                                <a className=\"header\">{album.name}</a>\n                                <div className=\"meta\">\n                                    <span className=\"date\">{this.createDate(album.create_at)}</span>\n                                </div>\n                                <div className=\"description\">{album.description}</div>\n                            </div>\n                        </div>\n                    )}\n                    </div>\n                </div>\n                <div className=\"ui modal createAlbumModal\">\n                    <div className=\"header\">创建相册</div>\n                    <div className=\"content\">\n                        <div id=\"createAlbumform\">\n                              <form  action=\"/api/albums\" method=\"post\">\n                                 <div className=\"ui form\">\n                                    <div className=\"field\">\n                                        <label>相册名称</label>\n                                        <div className=\"ui left icon input\">\n                                            <input type=\"text\" ref=\"preAlbumName\"  name=\"albumName\" maxLength=\"30\" placeholder=\"\" />\n                                        </div>\n                                    </div>\n                                    <div className=\"field\">\n                                        <label>相册描述</label>\n                                        <div className=\"ui left icon input\">\n                                            <textarea ref=\"preAlbumDescription\" name=\"albumDescription\" maxLength=\"2000\" rows=\"5\" cols=\"8\" placeholder=\"非必填\"></textarea>\n                                        </div>\n                                    </div>\n                                    <div className=\"inline fields\" ref=\"preAlbumTopic\">\n                                        <label htmlFor=\"topic\">主题</label>\n                                        <div className=\"field\">\n                                            <div className=\"ui radio checkbox albumTopic\">\n                                                <input type=\"radio\"   name=\"topic\" value=\"0\" defaultChecked tabIndex=\"0\" className=\"hidden\"/>\n                                                    <label>普通</label>\n                                            </div>\n                                        </div>\n                                        <div className=\"field\">\n                                            <div className=\"ui radio checkbox albumTopic\">\n                                                <input type=\"radio\" name=\"topic\" value=\"1\"  tabIndex=\"0\" className=\"hidden\"/>\n                                                    <label>亲子</label>\n                                            </div>\n                                        </div>\n                                        <div className=\"field\">\n                                            <div className=\"ui radio checkbox albumTopic\">\n                                                <input type=\"radio\"  name=\"topic\" value=\"2\" tabIndex=\"0\" className=\"hidden\" />\n                                                    <label>旅游</label>\n                                            </div>\n                                        </div>\n                                        <div className=\"field\">\n                                            <div className=\"ui radio checkbox albumTopic\">\n                                                <input type=\"radio\" name=\"topic\" value=\"3\" tabIndex=\"0\" className=\"hidden\" />\n                                                    <label>校友</label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"field\">\n                                        <label>权限</label>\n                                        <div className=\"ui albumAuthority selection dropdown\">\n                                            <input type=\"hidden\" name=\"albumAuthority\" ref=\"albumAuthority\"/>\n                                            <i className=\"dropdown icon\"></i>\n                                            <div className=\"default text\">所有人可见</div>\n                                            <div className=\"menu\">\n                                                <div className=\"item\" data-value=\"0\">所有人可见</div>\n                                                <div className=\"item\" data-value=\"1\">朋友可见</div>\n                                                <div className=\"item\" data-value=\"2\">仅自己可见</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                    <div className=\"actions\">\n                        <div onClick={(e) => this.onclickCreateAlbum(e)} className=\"ui blue button\">确定</div>\n                        <div className=\"ui cancel grey button\">取消</div>\n                    </div>\n                </div>\n                <div className=\"ui modal updatePhotosModal fullscreen\">\n                    <div className=\"header\">上传照片</div>\n                    <div className=\"content\">\n                        <div id=\"updatePhotosform\">\n                            <form  action=\"/api/albums\" method=\"post\" encType=\"multipart/form-data\">\n                                <div className=\"ui form\">\n                                    <div className=\"field\">\n                                        <label>上传到</label>\n                                        <div className=\"ui selectAlbum selection dropdown\">\n                                            <i className=\"dropdown icon\"></i>\n                                            < div className = \"default text\" >{firstAlbum.name||\"\"}</div>\n                                                <div className=\"menu\">\n                                                    {albums.map(album =>\n                                                        <div key={album._id} className=\"item\" data-value={album._id}>{album.name}</div>\n                                                    )};\n                                                </div>\n                                            </div>\n                                    </div>\n                                    <div className=\"field\">\n                                        <label></label>\n                                        <div className=\"ui left icon input\">\n                                            <input type=\"file\" className=\"input-addPhoto\" id=\"inputAddPhoto\" />\n                                            <button type=\"button\" className=\"ui green button\" onClick={this.onClickAddPhoto}>添加照片<i className=\"upload icon\"></i></button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                    <div className=\"actions\">\n                        <div onClick={(e) => this.onclickUpdatePhotos(e)} className=\"ui blue button\">确定</div>\n                        <div className=\"ui cancel grey button\">取消</div>\n                    </div>\n                </div>\n            </div>\n\t\t)\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/album/Albums.js","export const F_ALBUMS = \"F_ALBUMS\";\nexport const R_ALBUMS =\"R_ALBUMS\";\n\nexport const F_ALBUM = \"F_ALBUM\";\nexport const R_ALBUM = \"R_ALBUM\";\n\nexport const ADD_ALBUM =\"ADD_ALBUM\";\nexport const R_ADD_ALBUM = \"R_ADD_ALBUM\";\n\nexport const DEL_ALBUM = \"DEL_ALBUM\";\nexport const R_DEL_ALBUM =\"R_DEL_ALBUM\";\n\nexport const ADD_PHOTO = \"ADD_PHOTO\";\nexport const R_ADD_PHOTO = \"R_ADD_PHOTO\";\n\nexport const DEL_PHOTO = \"DEL_PHOTO\";\nexport const R_DEL_PHOTO = \"R_DEL_PHOTO\";\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/ActionTypes.album.js","export const F_ALBUMS = \"F_ALBUMS\";\nexport const R_ALBUMS =\"R_ALBUMS\";\n\nexport const F_ALBUM = \"F_ALBUM\";\nexport const R_ALBUM = \"R_ALBUM\";\n\nexport const ADD_ALBUM =\"ADD_ALBUM\";\nexport const R_ADD_ALBUM = \"R_ADD_ALBUM\";\n\nexport const DEL_ALBUM = \"DEL_ALBUM\";\nexport const R_DEL_ALBUM =\"R_DEL_ALBUM\";\n\nexport const ADD_PHOTO = \"ADD_PHOTO\";\nexport const R_ADD_PHOTO = \"R_ADD_PHOTO\";\n\nexport const DEL_PHOTO = \"DEL_PHOTO\";\nexport const R_DEL_PHOTO = \"R_DEL_PHOTO\";\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/actionTypes.album.js","import React from 'react';\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux';\nimport Albums from '../../components/album/Albums';\nimport {fetch_ajax_create_albums,fetch_ajax_get_albums} from '../../actions/album';\nclass AlbumApp extends React.Component{\n    constructor(props) {\n        super(props);\n        this.createAlbum = this.createAlbum.bind(this);\n        this.deleteAlbum = this.deleteAlbum.bind(this);\n        this.updateAlbum = this.updateAlbum.bind(this);\n        this.getAlbums = this.getAlbums.bind(this);\n        this.props.dispatch(fetch_ajax_get_albums(props.albums));\n    }\n    componentDidMount(){\n        \n    }\n    getAlbums(){\n      alert(\"get albums\");\n    }\n    createAlbum(album){\n        this.props.dispatch(fetch_ajax_create_albums(album));\n    }\n    deleteAlbum(){\n      alert(\"delete alubm\");\n    }\n    updateAlbum(){\n      alert(\"update album\");\n    }\n    render(){\n    \treturn(\n            <Albums updateAlbum={this.updateAlbum} deleteAlbum={this.deleteAlbum} createAlbum={this.createAlbum}  getAlbums={this.getAlbums} albums={this.props.albums} />\n\t\t);\n    }\n\n}\nAlbumApp.propTypes = {\n  albums: PropTypes.array.isRequired\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n  \talbums:state.albums,\n  }\n}\nexport default connect(\n mapStateToProps\n)(AlbumApp)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/album/Albums.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AlbumsRoot from '../containers/album/AlbumsRoot';\n\nconst nodeDiv =document.getElementById(\"album-container\");\nReactDOM.render(\n    <AlbumsRoot />,\n    nodeDiv\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/albums.js","import * as types from '../constants/actionTypes.album';\nimport {createStore,combineReducers,applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport {createLogger}  from 'redux-logger';\nimport \t_ from 'lodash';\nconst initState = {\n  albums:[]\n};\n\nfunction albumReducer(state = initState,action) {\n    switch (action.type){\n        case types.F_ALBUMS:\n            return Object.assign({},state,{\n                albums:action.albums\n            });\n            break;\n        case types.R_ALBUMS:\n            return Object.assign({},state,{\n                albums:action.albums\n            });\n            break;\n        case types.F_ALBUM:\n            break;\n        case types.R_ALBUM:\n            break;\n            \n            \n        case types.ADD_ALBUM:\n            console.log(\"添加相册！\")\n            return Object.assign({},state,{\n                album:action.album\n            });\n            break;\n        case types.R_ADD_ALBUM:\n            console.log(\"成功添加相册！\");\n            return Object.assign({},state,{\n                album:action.album,\n                albums:state.albums.concat([action.album])\n            });\n            break;\n        case types.DEL_ALBUM:\n            break;\n        case types.R_DEL_ALBUM:\n            break;\n            \n            \n        case types.ADD_PHOTO:\n            break;\n        case types.R_ADD_PHOTO:\n            break;\n            \n            \n        case types.DEL_PHOTO:\n            break;\n        case types.R_DEL_PHOTO:\n            break;\n        default:\n            return state;\n    }\n}\nconst middleware = [thunk];\nif (process.env.NODE_ENV !== 'production') {\n    middleware.push(createLogger())\n}\nconst store = createStore(\n    albumReducer,\n    applyMiddleware(...middleware)\n);\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/album.js","import * as types  from '../constants/ActionTypes.album';\n\nexport function action_get_albums(albums) {\n    return {\n        type:types.F_ALBUMS,\n        albums:albums\n    }\n}\nexport function action_received_albums(albums) {\n    return{\n        type:types.R_ALBUMS,\n        albums\n    }\n}\n\nexport function action_delete_album(albumId) {\n    return{\n        type:types.DEL_ALBUM,\n        albumId\n    }\n}\nexport function action_received_delete_album(albumId) {\n    return{\n        type:types.R_DEL_ALBUM,\n        albumId\n    }\n}\n\nexport function action_add_album(album) {\n    return{\n        type:types.ADD_ALBUM,\n        album\n    }\n}\nexport function action_received_add_album(album) {\n    return{\n        type:types.R_ADD_ALBUM,\n        album\n    }\n}\n\nexport function action_add_photo(photo) {\n    return{\n        type:types.ADD_PHOTO,\n        photo\n    }\n}\nexport function action_received_add_photo(photo) {\n    return{\n        type:types.R_ADD_PHOTO,\n        photo\n    }\n}\n\nexport function action_delete_photo(photoId) {\n    return{\n        type:types.DEL_PHOTO,\n        photoId\n    }\n}\nexport function action_received_delete_photo(photoId) {\n    return{\n        type:types.R_DEL_PHOTO,\n        photoId\n    }\n}\n\nconst ajax_get_albums = albums => dispatch => {\n    dispatch(action_get_albums(albums));\n    $.ajax({\n        url:\"/api/albums\",\n        method:\"get\",\n        type:\"json\",\n        success:function(result){\n            const albums = result.albums;\n            dispatch(action_received_albums(albums));\n        },\n        error:function(err,status){\n            console.log(err);\n        }\n    })\n};\nconst ajax_create_albums = album => dispatch => {\n    dispatch(action_add_album(album));\n    $.ajax({\n        url:\"/api/albums\",\n        method:\"post\",\n        type:\"json\",\n        data:album,\n        success:function(result){\n            const album = result.album||{};\n            dispatch(action_received_add_album(album));\n        },\n        error:function(err,status){\n            console.log(err);\n        }\n    })\n};\nexport const fetch_ajax_create_albums = album => (dispatch,getState) => {\n    dispatch(ajax_create_albums(album));\n};\nexport const fetch_ajax_get_albums = albums => (dispatch,getState) => {\n    dispatch(ajax_get_albums(albums));\n};\n\n\n// WEBPACK FOOTER //\n// ./src/actions/album.js"],"sourceRoot":""}